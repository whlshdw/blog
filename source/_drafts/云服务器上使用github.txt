
参考文章

https://blog.csdn.net/u011518749/article/details/106394386




###
如果没有在 github 设置 public key 而直接执行 git clone 命令的话，会有权限问题。

[root@VM-0-6-centos tmp]# git clone git@github.com:muzi502/blog.git
Cloning into 'blog'...
The authenticity of host 'github.com (192.30.255.112)' can't be established.
RSA key fingerprint is SHA256:nThbg6kXUpJWGl7E1IGOCspRomTxdCARLviKw6E5SY8.
RSA key fingerprint is MD5:16:27:ac:a5:76:28:2d:36:63:1b:56:4d:eb:df:a6:48.
Are you sure you want to continue connecting (yes/no)? yes
Warning: Permanently added 'github.com,192.30.255.112' (RSA) to the list of known hosts.
Permission denied (publickey).
fatal: Could not read from remote repository.

Please make sure you have the correct access rights
and the repository exists.


###

使用 ssh -T 测试连通性如下，会有一个 Permission denied 的异常。
[root@VM-0-6-centos ~]# ssh -T git@github.com
Permission denied (publickey).


###########################

# 生成一个 ssh-key
# -t: 可选择 dsa | ecdsa | ed25519 | rsa | rsa1，代表加密方式
# -C: 注释，一般写自己的邮箱


[root@VM-0-6-centos ~]# ssh-keygen -t rsa -C "sthwhl@outlook.com"
Generating public/private rsa key pair.
Enter file in which to save the key (/root/.ssh/id_rsa): 
Enter passphrase (empty for no passphrase): 
Enter same passphrase again: 
Your identification has been saved in /root/.ssh/id_rsa.
Your public key has been saved in /root/.ssh/id_rsa.pub.
The key fingerprint is:
SHA256:m9181Lgzu+evZzfs+z3LjvzrdGbfMfpLJgy4DOuiBc4 sthwhl@outlook.com
The key's randomart image is:
+---[RSA 2048]----+
|                 |
|                 |
|                 |
|          .    o |
|   .   .S. .  o .|
|  o .   ++.oo. . |
|   E . .oo. oo**+|
|    ...     ..OX%|
|   .. ..     +X^^|
+----[SHA256]-----+
[root@VM-0-6-centos ~]# 


#####

在云服务器中复制 ~/.ssh/id_rsa.pub 中文件内容，并粘贴到 github 的配置中。

[root@VM-0-6-centos ~]# cat ~/.ssh/id_rsa.pub 
ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCrz2jtaYh+BHD8pG8ttZEfUCCyoFE5j+4V0bOWbhgN6lP6ZL65yM7o77JqF9CqQ4JacymGI3SE4lpXHD8ZwSsC3Z0Cj7J8S9pPKTSh0Z2yrjTi7c89jIf/vitmvfiUHf22MCzFv/3YvQB00HZC4RHy9ToODFQAlVeUoAc4cTp1oRSLaQAt5eMWEjttYc1XroRp+jrmwV9HoVFhhLIzs4y/kFH4Rt/R47ONwPQ49gY/kJ2aByJnMrnpr/jBKuMYj4BOGAVK6L6nLNPQOQs36dWP+xA2g3LAxIrQdiy636h3F+fP/+iu7RtV4MA3EvECRdjqFUOoZC1Jd4hWSWnDritL sthwhl@outlook.com
[root@VM-0-6-centos ~]# 


######
在 github 的 ssh keys 设置中：https://github.com/settings/keys 点击 New SSH key 添加刚才生成的 public key。

###
使用 ssh -T 测试成功

[root@VM-0-6-centos ~]# ssh -T git@github.com
Hi sthwhl! You've successfully authenticated, but GitHub does not provide shell access.
[root@VM-0-6-centos ~]# 

 



